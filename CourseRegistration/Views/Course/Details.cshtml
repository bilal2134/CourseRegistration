@model global::CourseRegistration.Models.Course
@{
    ViewData["Title"] = "Course Details";
}

<h2>@Model.Name</h2>
<p><strong>Instructor:</strong> @Model.Instructor</p>
<p>@Model.Description</p>

<hr />

<form asp-action="Register" method="post">
    <input type="hidden" name="courseId" value="@Model.Id" />
    <button type="submit" class="btn btn-success">Register for this Course</button>
</form>

<form asp-action="Unregister" method="post" class="mt-2">
    <input type="hidden" name="courseId" value="@Model.Id" />
    <button type="submit" class="btn btn-danger">Unregister from this Course</button>
</form>

<hr />

<h4>Registered Users</h4>
<ul>
    @if (Model.CourseRegistrations != null && Model.CourseRegistrations.Any())
    {
        foreach (var reg in Model.CourseRegistrations)
        {
            <li>@reg.User.Email</li>
        }
    }
    else
    {
        <li>No users registered yet.</li>
    }
</ul>
